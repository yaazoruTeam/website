# תיעוד טסטים לקונטרולר ApiTranzila

קובץ זה מכיל טסטים מקיפים לפונקציית `chargeTokenTranzila` שמטפלת בביצוע חיובים דרך מערכת Tranzila. הטסטים בודקים את התנהגות הקונטרולר בתרחישים שונים כולל מקרי הצלחה, שגיאות ומקרי קצה. כל טסט מוקק את פונקציית הchaarge של Tranzila כדי לבדוק את הלוגיקה העסקית בלבד. חשוב לציין שהפונקציה משתמשת בנתונים קשיחים (hardcoded) עבור פרטי העסקה ולא מתבססת על הנתונים הנשלחים מהקליינט.

## פונקציות הטסט

### `chargeTokenTranzila`
- **טסט עיבוד בקשת חיוב בהצלחה**: בודק ביצוע חיוב מוצלח עם החזרת מזהה עסקה וקוד אישור.
- **טסט טיפול בתוכן שונה בגוף הבקשה**: בודק שהפונקציה עובדת ללא תלות בתוכן הגוף הנשלח.
- **טסט טיפול בגוף בקשה ריק**: בודק התנהגות כאשר נשלח גוף בקשה ריק.
- **טסט טיפול בעסקה דחויה**: בודק התנהגות כאשר Tranzila מחזירה עסקה דחויה עם קוד שגיאה.
- **טסט שגיאות אימות מ-API של Tranzila**: בודק טיפול בשגיאות אימות מהשרת של Tranzila.
- **טסט שגיאות רשת במהלך חיוב**: בודק טיפול בשגיאות רשת וזמן תגובה.
- **טסט שגיאות כרטיס אשראי לא תקין**: בודק טיפול בשגיאות הקשורות לפרטי כרטיס אשראי לא תקינים.
- **טסט שגיאות הגבלת קצב API**: בודק טיפול במצב של חריגה ממגבלת הקריאות ל-API.
- **טסט שגיאות בלתי צפויות**: בודק טיפול בשגיאות כלליות לא צפויות במהלך עיבוד החיוב.
- **טסט שימוש בנתונים קשיחים**: בודק שהפונקציה תמיד משתמשת בנתוני עסקה קבועים ללא תלות בגוף הבקשה.
- **טסט טיפול בתגובה null**: בודק התנהגות כאשר פונקציית charge מחזירה null.
- **טסט טיפול בתגובה undefined**: בודק התנהגות כאשר פונקציית charge מחזירה undefined.
- **טסט שגיאה סינכרונית**: בודק טיפול בשגיאה שנזרקת באופן סינכרוני מפונקציית charge.
- **טסט לוגים לדיבוג**: בודק שהלוגים נכתבים כראוי לצורכי דיבוג וניטור העסקאות.
