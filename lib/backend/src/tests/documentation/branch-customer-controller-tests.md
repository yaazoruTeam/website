# תיעוד טסטים לקונטרולר סניף-לקוח

קובץ זה מכיל טסטים מקיפים לכל הפונקציות שבקונטרולר סניף-לקוח (BranchCustomer). הטסטים בודקים את התנהגות הקונטרולר בתרחישים שונים כולל מקרי קצה ושגיאות. כל טסט מוקק את השכבת מסד הנתונים ואת פונקציות הוולידציה כדי לבדוק את הלוגיקה העסקית בלבד. הטסטים כוללים בדיקות עבור יצירה, קריאה, עדכון ומחיקה של קשרים בין סניפים ולקוחות, כולל וולידציה של קיום הסניף והלקוח בטרם יצירת הקשר.

## פונקציות הטסט

### `createBranchCustomer`
- **טסט יצירת קשר סניף-לקוח בהצלחה**: בודק יצירת קשר חדש בין סניף ולקוח לאחר וולידציה של קיום שניהם.
- **טסט החזרת 404 אם סניף לא קיים**: בודק החזרת שגיאה 404 כאשר הסניף המבוקש לא קיים במערכת.
- **טסט החזרת 404 אם לקוח לא קיים**: בודק החזרת שגיאה 404 כאשר הלקוח המבוקש לא קיים במערכת.
- **טסט החזרת 409 אם צירוף קיים**: בודק החזרת שגיאה 409 כאשר הקשר בין הסניף והלקוח כבר קיים.
- **טסט שגיאות במהלך יצירת קשר**: בודק טיפול בשגיאות כלליות במהלך יצירת הקשר במסד הנתונים.
- **טסט שגיאות ולידציה**: בודק טיפול בשגיאות ולידציה של נתוני הקלט.
- **טסט שגיאות בבדיקת קיום סניף**: בודק טיפול בשגיאות במהלך בדיקת קיום הסניף.
- **טסט שגיאות בבדיקת קיום לקוח**: בודק טיפול בשגיאות במהלך בדיקת קיום הלקוח.
- **טסט שגיאות בבדיקת קיום צירוף**: בודק טיפול בשגיאות במהלך בדיקת קיום הצירוף הקיים.

### `getAllBranchCustomer`
- **טסט קבלת כל קשרי סניף-לקוח עם עימוד**: בודק החזרת רשימת כל הקשרים עם מידע על עימוד ומספר דפים.
- **טסט ברירת מחדל לעמוד ראשון**: בודק התנהגות כאשר לא מועבר פרמטר עמוד (ברירת מחדל לעמוד 1).
- **טסט שגיאות במהלך קבלת קשרים**: בודק טיפול בשגיאות במסד הנתונים בעת קבלת רשימת הקשרים.
- **טסט פרמטר עמוד לא תקין**: בודק טיפול בפרמטר עמוד לא תקין והחזרה לברירת מחדל.

### `getBranchCustomerById`
- **טסט קבלת קשר סניף-לקוח לפי מזהה**: בודק החזרת פרטי קשר ספציפי לפי מזהה לאחר וולידציה וקיום.
- **טסט החזרת 404 אם קשר לא נמצא**: בודק החזרת קוד שגיאה 404 כאשר הקשר עם המזהה הנתון לא קיים.
- **טסט שגיאות בבדיקת קיום קשר**: בודק טיפול בשגיאות במהלך בדיקת קיום הקשר במסד הנתונים.
- **טסט שגיאות ולידציה של מזהה**: בודק טיפול בשגיאות ולידציה של פורמט המזהה.
- **טסט שגיאות בקבלת קשר לפי מזהה**: בודק טיפול בשגיאות במהלך קבלת פרטי הקשר מהמסד.

### `getBranchCustomerByBranch_id`
- **טסט קבלת קשרי לקוחות לפי מזהה סניף**: בודק החזרת כל הלקוחות המקושרים לסניף ספציפי עם עימוד.
- **טסט החזרת 404 אם סניף לא קיים**: בודק החזרת שגיאה 404 כאשר הסניף המבוקש לא קיים במערכת.
- **טסט ברירת מחדל לעמוד**: בודק התנהגות כאשר לא מועבר פרמטר עמוד בחיפוש לפי סניף.
- **טסט שגיאות בבדיקת קיום סניף**: בודק טיפול בשגיאות במהלך בדיקת קיום הסניף לחיפוש.
- **טסט שגיאות ולידציה**: בודק טיפול בשגיאות ולידציה של מזהה הסניף.
- **טסט שגיאות בקבלת קשרים לפי סניף**: בודק טיפול בשגיאות במהלך קבלת הקשרים מהמסד.

### `getBranchCustomerByCustomer_id`
- **טסט קבלת קשרי סניפים לפי מזהה לקוח**: בודק החזרת כל הסניפים המקושרים ללקוח ספציפי עם עימוד.
- **טסט החזרת 404 אם לקוח לא קיים**: בודק החזרת שגיאה 404 כאשר הלקוח המבוקש לא קיים במערכת.
- **טסט ברירת מחדל לעמוד**: בודק התנהגות כאשר לא מועבר פרמטר עמוד בחיפוש לפי לקוח.
- **טסט שגיאות בבדיקת קיום לקוח**: בודק טיפול בשגיאות במהלך בדיקת קיום הלקוח לחיפוש.
- **טסט שגיאות ולידציה**: בודק טיפול בשגיאות ולידציה של מזהה הלקוח.
- **טסט שגיאות בקבלת קשרים לפי לקוח**: בודק טיפול בשגיאות במהלך קבלת הקשרים מהמסד.

### `updateBranchCustomer`
- **טסט עדכון קשר סניף-לקוח בהצלחה**: בודק עדכון פרטי קשר קיים לאחר ולידציה של מזהה ונתונים וקיום הסניף והלקוח.
- **טסט החזרת 404 אם סניף לא קיים בעדכון**: בודק החזרת שגיאה 404 כאשר הסניף לעדכון לא קיים.
- **טסט החזרת 404 אם לקוח לא קיים בעדכון**: בודק החזרת שגיאה 404 כאשר הלקוח לעדכון לא קיים.
- **טסט שגיאות במהלך עדכון קשר**: בודק טיפול בשגיאות כלליות במהלך עדכון הקשר במסד הנתונים.
- **טסט שגיאות ולידציה של מזהה**: בודק טיפול בשגיאות ולידציה של פורמט המזהה לעדכון.
- **טסט שגיאות ולידציה של נתונים**: בודק טיפול בשגיאות ולידציה של נתוני הגוף לעדכון.
- **טסט קשר לא נמצא בעדכון**: בודק טיפול במקרה שהקשר לעדכון לא קיים במערכת.
- **טסט שגיאות בבדיקת קיום סניף בעדכון**: בודק טיפול בשגיאות במהלך בדיקת קיום הסניף בעדכון.
- **טסט שגיאות בבדיקת קיום לקוח בעדכון**: בודק טיפול בשגיאות במהלך בדיקת קיום הלקוח בעדכון.

### `deleteBranchCustomer`
- **טסט מחיקת קשר סניף-לקוח בהצלחה**: בודק מחיקת קשר קיים לאחר וולידציה ובדיקת קיום.
- **טסט החזרת 404 אם קשר לא קיים למחיקה**: בודק החזרת שגיאה 404 כאשר הקשר למחיקה לא קיים.
- **טסט שגיאות בבדיקת קיום קשר למחיקה**: בודק טיפול בשגיאות במהלך בדיקת קיום הקשר למחיקה.
- **טסט שגיאות במחיקת קשר**: בודק טיפול בשגיאות במהלך ביצוע המחיקה במסד הנתונים.
- **טסט שגיאות ולידציה למחיקה**: בודק טיפול בשגיאות ולידציה של המזהה למחיקה.
- **טסט קשר לא נמצא במהלך מחיקה**: בודק טיפול במקרה שהקשר נמחק או לא נמצא במהלך תהליך המחיקה.
