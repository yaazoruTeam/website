# תיעוד טסטים לקונטרולר מכשירים

קובץ זה מכיל טסטים מקיפים לכל הפונקציות שבקונטרולר מכשירים (Device). הטסטים בודקים את התנהגות הקונטרולר בתרחישים שונים כולל מקרי קצה ושגיאות. כל טסט מוקק את השכבת מסד הנתונים ואת פונקציות הוולידציה כדי לבדוק את הלוגיקה העסקית בלבד. הטסטים כוללים בדיקות עבור יצירה, קריאה, עדכון ומחיקה של מכשירים, כולל וולידציה של נתונים ייחודיים כמו מספר SIM, IMEI ומספר מכשיר.

## פונקציות הטסט

### `createDevice`
- **טסט יצירת מכשיר חדש בהצלחה**: בודק יצירת מכשיר חדש עם פרטים כמו מספר SIM ו-IMEI ובדיקת סטטוס תגובה 201.
- **טסט שגיאות במהלך יצירת מכשיר**: בודק טיפול בשגיאות כלליות במהלך יצירת המכשיר במסד הנתונים.

### `getDevices`
- **טסט קבלת כל המכשירים**: בודק החזרת רשימת כל המכשירים עם מידע על עימוד, סה"כ דפים וסה"כ רשומות.
- **טסט שגיאות במהלך קבלת מכשירים**: בודק טיפול בשגיאות במסד הנתונים בעת קבלת רשימת המכשירים.

### `getDeviceById`
- **טסט קבלת מכשיר לפי מזהה**: בודק החזרת פרטי מכשיר ספציפי לפי מזהה לאחר וולידציה ובדיקת קיום.
- **טסט החזרת 404 אם מכשיר לא נמצא**: בודק החזרת קוד שגיאה 404 כאשר המכשיר עם המזהה הנתון לא קיים.
- **טסט שגיאות במהלך קבלת מכשיר לפי מזהה**: בודק טיפול בשגיאות במהלך קבלת פרטי המכשיר מהמסד.

### `getDevicesByStatus`
- **טסט קבלת מכשירים לפי סטטוס תקין**: בודק החזרת מכשירים לפי סטטוס (פעיל/לא פעיל) עם עימוד.
- **טסט דחיית ערך סטטוס לא תקין**: בודק החזרת שגיאה 400 כאשר הסטטוס המבוקש אינו חוקי.
- **טסט שגיאה במהלך קבלת מכשירים לפי סטטוס**: בודק טיפול בשגיאות במסד הנתונים בחיפוש לפי סטטוס.

### `updateDevice`
- **טסט עדכון מכשיר בהצלחה**: בודק עדכון פרטי מכשיר קיים לאחר ולידציה מלאה של מזהה ונתונים.
- **טסט שגיאה במהלך עדכון מכשיר**: בודק טיפול בשגיאות כלליות במהלך עדכון המכשיר במסד הנתונים.

### `deleteDevice`
- **טסט מחיקת מכשיר בהצלחה**: בודק מחיקת מכשיר קיים לאחר וולידציה ובדיקת קיום.
- **טסט החזרת 404 אם מכשיר לא קיים**: בודק החזרת שגיאה 404 כאשר המכשיר למחיקה לא קיים.
- **טסט שגיאות במהלך מחיקת מכשיר**: בודק טיפול בשגיאות במהלך ביצוע המחיקה במסד הנתונים.
