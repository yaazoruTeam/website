# תיעוד טסטים לקונטרולר הסניפים

קובץ זה מכיל טסטים מקיפים לכל הפונקציות שבקונטרולר הסניפים. הטסטים בודקים את התנהגות הקונטרולר בתרחישים שונים כולל מקרי קצה ושגיאות. כל טסט מוקק את השכבת מסד הנתונים ואת פונקציות הוולידציה כדי לבדוק את הלוגיקה העסקית בלבד. הטסטים כוללים בדיקות עבור יצירה, קריאה, עדכון ומחיקה של סניפים, וכן חיפוש לפי עיר.

## פונקציות הטסט

### `createBranch`
- **טסט יצירת סניף בהצלחה**: בודק יצירת סניף חדש עם כל הפרטים הנדרשים כמו עיר, כתובת, שם מנהל וטלפון.
- **טסט שגיאת מסד נתונים ביצירה**: בודק טיפול בשגיאות במסד הנתונים במהלך יצירת סניף.
- **טסט שגיאות ולידציה**: בודק טיפול בשגיאות ולידציה של נתוני הקלט לפני יצירת הסניף.

### `getBranches`
- **טסט קבלת כל הסניפים עם עימוד**: בודק החזרת רשימת סניפים עם מידע על עימוד, סה"כ דפים וסה"כ רשומות.
- **טסט ברירת מחדל לעמוד ראשון**: בודק התנהגות כאשר לא מועבר פרמטר עמוד (ברירת מחדל לעמוד 1).
- **טסט שגיאת מסד נתונים**: בודק טיפול בשגיאות במסד הנתונים בעת קבלת רשימת סניפים.
- **טסט פרמטר עמוד לא תקין**: בודק טיפול בפרמטר עמוד לא תקין והחזרה לברירת מחדל.

### `getBranchById`
- **טסט קבלת סניף לפי מזהה**: בודק החזרת פרטי סניף ספציפי לפי מזהה לאחר וולידציה וקיום.
- **טסט סניף לא נמצא**: בודק החזרת קוד שגיאה 404 כאשר הסניף עם המזהה הנתון לא קיים.
- **טסט שגיאת בדיקת קיום**: בודק טיפול בשגיאות במהלך בדיקת קיום הסניף במסד הנתונים.
- **טסט שגיאות ולידציה של מזהה**: בודק טיפול בשגיאות ולידציה של פורמט המזהה.
- **טסט שגיאה בקבלת סניף**: בודק טיפול בשגיאות במהלך קבלת פרטי הסניף מהמסד.

### `getBranchesByCity`
- **טסט קבלת סניפים לפי עיר**: בודק החזרת סניפים מעיר ספציפית עם מידע עימוד מלא.
- **טסט עיר חסרה**: בודק החזרת שגיאה 400 כאשר פרמטר העיר חסר מהבקשה.
- **טסט עיר ריקה**: בודק החזרת שגיאה 400 כאשר פרמטר העיר ריק.
- **טסט לא נמצאו סניפים בעיר**: בודק החזרת שגיאה 404 כאשר לא נמצאו סניפים בעיר המבוקשת.
- **טסט שגיאת מסד נתונים**: בודק טיפול בשגיאות במסד הנתונים בחיפוש לפי עיר.
- **טסט ברירת מחדל לעמוד**: בודק התנהגות כאשר לא מועבר פרמטר עמוד בחיפוש לפי עיר.

### `updateBranch`
- **טסט עדכון סניף בהצלחה**: בודק עדכון פרטי סניף קיים לאחר ולידציה מלאה של מזהה ונתונים.
- **טסט שגיאה בעדכון**: בודק טיפול בשגיאות כלליות במהלך עדכון הסניף במסד הנתונים.
- **טסט שגיאות ולידציה של מזהה**: בודק טיפול בשגיאות ולידציה של פורמט המזהה לעדכון.
- **טסט שגיאות ולידציה של נתונים**: בודק טיפול בשגיאות ולידציה של נתוני הגוף לעדכון.
- **טסט סניף לא נמצא לעדכון**: בודק טיפול במקרה שהסניף לעדכון לא קיים במערכת.

### `deleteBranch`
- **טסט מחיקת סניף בהצלחה**: בודק מחיקת סניף קיים לאחר וולידציה ובדיקת קיום.
- **טסט סניף לא קיים למחיקה**: בודק החזרת שגיאה 404 כאשר הסניף למחיקה לא קיים.
- **טסט שגיאת בדיקת קיום למחיקה**: בודק טיפול בשגיאות במהלך בדיקת קיום הסניף למחיקה.
- **טסט שגיאה במחיקת סניף**: בודק טיפול בשגיאות במהלך ביצוע המחיקה במסד הנתונים.
- **טסט שגיאות ולידציה למחיקה**: בודק טיפול בשגיאות ולידציה של המזהה למחיקה.
- **טסט סניף לא נמצא במהלך מחיקה**: בודק טיפול במקרה שהסניף נמחק או לא נמצא במהלך תהליך המחיקה.
